import{_ as v,b as g,a as y,r as w,o as r,c as n,d as t,e as l,w as a,t as i,k as f,v as x,F as k,j as P,f as h}from"./index-a464fe07.js";import{c as T}from"./cart-8eaf121d.js";const{VITE_URL:b,VITE_PATH:m}={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"ph",BASE_URL:"/Mountainerring2/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},R={data(){return{product:{},relativePorduct:{},id:"",qty:1}},methods:{getProduct(){const{id:e}=this.$route.params;this.$http.get(`${b}/v2/api/${m}/product/${e}`).then(o=>{this.product=o.data.product,this.getRelativeProducts()})},getRelativeProducts(){const{category:e,id:o}=this.product;this.$http.get(`${b}/v2/api/${m}/products?category=${e}`).then(u=>{this.relativePorduct=u.data.products.filter(_=>_.id!==o)})},addOne(){this.qty+=1},minusOne(){this.qty>1&&(this.qty-=1)},toggleId(e){this.$router.push(`/product/${e}`),this.id=e,this.getProduct()},...g(T,["addToCart"])},components:{RouterLink:y},watch:{"$route.params":{immediate:!0,handler(){this.getProduct()}}},mounted(){this.getProduct()}},V={class:"container w-100"},C={"aria-label":"breadcrumb"},E={class:"breadcrumb bg-white px-0 mb-0 py-3"},q={class:"breadcrumb-item"},L={class:"breadcrumb-item text-muted"},O={class:"breadcrumb-item active","aria-current":"page"},U={class:"row align-items-center"},D={class:"col-md-7"},I={class:"carousel slide","data-ride":"carousel"},N={class:"carousel-inner"},S={class:"carousel-item active"},A=["src","alt"],B={class:"col-md-5"},M={class:"fw-bold h1 mb-1"},j={class:"h4 fw-bold text-end"},F={class:"input-group my-3 bg-light rounded"},H={class:"input-group-prepend"},$=t("i",{class:"bi bi-dash-lg"},null,-1),z=[$],G={class:"input-group-append"},J=t("i",{class:"bi bi-plus-lg"},null,-1),K=[J],Q={class:"row align-items-center"},W={class:"col-6"},X={class:"col-6"},Y={class:"row my-5"},Z={class:"col-md-7"},tt=t("hr",null,null,-1),st={class:"col-md-7"},ot=t("h3",{class:"fw-bold"},"簡易行程",-1),et=t("hr",null,null,-1),dt=t("h3",{class:"fw-bold"},"相關行程",-1),it={class:"container"},ct={class:"row mt-4 mb-5"},rt={class:"card border-0 mb-4 h-100"},nt=["src","alt"],lt={class:"card-body text-start"},at={class:"d-flex justify-content-between"},ut={class:"card-text text-muted mb-0 h6"};function _t(e,o,u,_,s,p){const c=w("RouterLink");return r(),n("div",V,[t("nav",C,[t("ol",E,[t("li",q,[l(c,{to:"/products",class:"text-muted"},{default:a(()=>[h("全部商品")]),_:1})]),t("li",L,i(s.product.category),1),t("li",O,i(s.product.title),1)])]),t("div",U,[t("div",D,[t("div",I,[t("div",N,[t("div",S,[t("img",{src:s.product.imageUrl,class:"d-block w-100",alt:s.product.title},null,8,A)])])])]),t("div",B,[t("h2",M,i(s.product.title),1),t("p",j,"NT$"+i(s.product.price),1),t("div",F,[t("div",H,[t("button",{class:"btn btn-outline-dark border-0 py-2",type:"button",id:"button-addon1",onClick:o[0]||(o[0]=()=>p.minusOne())},z)]),f(t("input",{type:"text",class:"form-control border-0 text-center my-auto shadow-none bg-light",placeholder:"","aria-label":"Example text with button addon","aria-describedby":"button-addon1","onUpdate:modelValue":o[1]||(o[1]=d=>s.qty=d)},null,512),[[x,s.qty]]),t("div",G,[t("button",{class:"btn btn-outline-dark border-0 py-2",type:"button",id:"button-addon2",onClick:o[2]||(o[2]=()=>p.addOne())},K)])]),t("div",Q,[t("div",W,[t("button",{type:"button",class:"text-nowrap btn btn-dark w-100 py-2",onClick:o[3]||(o[3]=()=>e.addToCart(s.product.id,s.qty))},"加入購物車")]),t("div",X,[l(c,{to:"/cart",class:"text-nowrap btn btn-dark w-100 py-2",onClick:o[4]||(o[4]=()=>e.addToCart(s.product.id,s.qty))},{default:a(()=>[h("立刻購買")]),_:1})])])])]),t("div",Y,[t("div",Z,[t("p",null,i(s.product.description),1),tt]),t("div",st,[ot,t("p",null,i(s.product.content),1)])]),et,dt,t("div",it,[t("div",ct,[(r(!0),n(k,null,P(s.relativePorduct,d=>(r(),n("div",{class:"col-lg-3 col-md-6",key:d.id},[t("div",rt,[l(c,{to:`/product/${d.id}`},{default:a(()=>[t("img",{src:d.imageUrl,class:"card-img-top rounded-0",alt:d.title},null,8,nt)]),_:2},1032,["to"]),t("div",lt,[t("h5",null,i(d.title),1),t("div",at,[t("p",ut," NT$"+i(d.price),1)])])])]))),128))])])])}const bt=v(R,[["render",_t]]);export{bt as default};
