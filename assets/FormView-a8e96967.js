import{_ as h,b as V,a as g,r as c,o as x,c as k,d as s,e as t,w as f,i as m,l as E,v as w,f as y}from"./index-42d53d87.js";import{s as p,a as R}from"./cart-9b4dfc35.js";const{VITE_URL:T,VITE_PATH:U}={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"ph",BASE_URL:"/Mountainerring2/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},C={data(){return{data:{user:{email:"",name:"",tel:"",address:""},message:""}}},methods:{createtOrder(){const u=this.data;this.$http.post(`${T}/v2/api/${U}/order`,{data:u}).then(e=>{const{orderId:r}=e.data,{message:o}=e.data;p.fire({title:`${o}`,icon:"success"}),this.getCart(),this.$router.push(`/checkout/${r}`)}).catch(e=>{var o,a;const r=((a=(o=e.response)==null?void 0:o.data)==null?void 0:a.message)||"資料錯誤";p.fire({title:`${r}`,icon:"error"})})},...V(R,["getCart"])},components:{RouterLink:g}},L={class:"container"},S={class:"my-5 row justify-content-center"},I={class:"mb-3"},O=s("label",{for:"email",class:"form-label"},"Email",-1),q={class:"mb-3"},A=s("label",{for:"name",class:"form-label"},"收件人姓名",-1),B={class:"mb-3"},D=s("label",{for:"tel",class:"form-label"},"收件人電話",-1),M={class:"mb-3"},N=s("label",{for:"address",class:"form-label"},"收件人地址",-1),P={class:"mb-3"},H=s("label",{for:"message",class:"form-label"},"留言",-1),j={class:"row"},z={class:"text-start col"},F={class:"text-end col"};function G(u,e,r,o,a,_){const n=c("v-field"),d=c("error-message"),b=c("RouterLink"),v=c("v-form");return x(),k("div",L,[s("div",S,[t(v,{class:"col-md-6",onSubmit:_.createtOrder},{default:f(({errors:i})=>[s("div",I,[O,t(n,{id:"email",name:"email",type:"email",class:m(["form-control",{"is-invalid":i.email}]),placeholder:"請輸入 Email",rules:"required|email",modelValue:a.data.user.email,"onUpdate:modelValue":e[0]||(e[0]=l=>a.data.user.email=l)},null,8,["class","modelValue"]),t(d,{name:"email",class:"invalid-feedback"})]),s("div",q,[A,t(n,{id:"name",name:"姓名",type:"text",class:m(["form-control",{"is-invalid":i.姓名}]),placeholder:"請輸入姓名",rules:"required",modelValue:a.data.user.name,"onUpdate:modelValue":e[1]||(e[1]=l=>a.data.user.name=l)},null,8,["class","modelValue"]),t(d,{name:"姓名",class:"invalid-feedback"})]),s("div",B,[D,t(n,{id:"tel",name:"電話",type:"tel",class:m(["form-control",{"is-invalid":i.電話}]),placeholder:"請輸入電話",rules:"required",modelValue:a.data.user.tel,"onUpdate:modelValue":e[2]||(e[2]=l=>a.data.user.tel=l)},null,8,["class","modelValue"]),t(d,{name:"電話",class:"invalid-feedback"})]),s("div",M,[N,t(n,{id:"address",name:"地址",type:"text",class:m(["form-control",{"is-invalid":i.地址}]),placeholder:"請輸入地址",rules:"required",modelValue:a.data.user.address,"onUpdate:modelValue":e[3]||(e[3]=l=>a.data.user.address=l)},null,8,["class","modelValue"]),t(d,{name:"地址",class:"invalid-feedback"})]),s("div",P,[H,E(s("textarea",{id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":e[4]||(e[4]=l=>a.data.message=l)},null,512),[[w,a.data.message]])]),s("div",j,[s("div",z,[t(b,{to:"/cart",class:"btn btn-danger"},{default:f(()=>[y("回購物車")]),_:1})]),s("div",F,[s("button",{type:"submit",class:"btn btn-primary",onClick:e[5]||(e[5]=()=>_.createtOrder())},"送出訂單")])])]),_:1},8,["onSubmit"])])])}const Q=h(C,[["render",G]]);export{Q as default};
