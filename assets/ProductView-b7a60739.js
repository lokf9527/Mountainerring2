import{_ as v,b as g,a as y,r as w,o as u,c as p,d as t,e as h,w as b,t as d,l as f,v as k,F as x,k as P,f as m,j as T}from"./index-42d53d87.js";import{a as C}from"./cart-9b4dfc35.js";const{VITE_URL:n,VITE_PATH:l}={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"ph",BASE_URL:"/Mountainerring2/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},R={data(){return{product:{},relativePorduct:{},id:"",qty:1}},methods:{getProduct(){this.$http.get(`${n}/v2/api/${l}/product/${this.id}`).then(s=>{this.product=s.data.product,this.getRelativeProducts()})},getProducts(s,o=1){let c=`${n}v2/api/${l}/products/`;switch(s){case"初階體驗":case"中階探索":case"高階冒險":c=`${n}/v2/api/${l}/products?category=${s}`;break;default:c=`${n}/v2/api/${l}/products?page=${o}`}this.$http(c).then(r=>{this.products=r.data.products,this.pagination=r.data.pagination})},getRelativeProducts(){const{category:s,id:o}=this.product;this.$http.get(`${n}/v2/api/${l}/products?category=${s}`).then(c=>{this.relativePorduct=c.data.products.filter(r=>r.id!==o)})},addOne(){this.qty+=1},minusOne(){this.qty>1&&(this.qty-=1)},toggleId(s){this.$router.push(`/product/${s}`),this.id=s,this.getProduct()},...g(C,["addToCart"])},components:{RouterLink:y},created(){const{id:s}=this.$route.params;this.id=s,this.getProduct()},mounted(){this.getProduct()}},V={class:"container w-100"},E={"aria-label":"breadcrumb"},$={class:"breadcrumb px-1 mb-0 py-3"},q={class:"breadcrumb-item"},L={class:"breadcrumb-item active","aria-current":"page"},I={class:"row align-items-center"},O={class:"col-md-7"},U={class:"carousel slide","data-ride":"carousel"},D={class:"carousel-inner"},N={class:"carousel-item active"},S=["src","alt"],A={class:"col-md-5"},B={class:"fw-bold h1 mb-1"},M={class:"h4 fw-bold text-end"},j={class:"input-group my-3 bg-light rounded"},F={class:"input-group-prepend"},H=t("i",{class:"bi bi-dash-lg"},null,-1),z=[H],G={class:"input-group-append"},J=t("i",{class:"bi bi-plus-lg"},null,-1),K=[J],Q={class:"row align-items-center"},W={class:"col-6"},X={class:"col-6"},Y={class:"row my-5"},Z={class:"col-md-7"},tt=t("hr",null,null,-1),st={class:"col-md-7"},ot=t("h3",{class:"fw-bold"},"簡易行程",-1),et={class:"text-wrapper"},it=t("hr",null,null,-1),dt=t("h3",{class:"fw-bold"},"相關行程",-1),ct={class:"container"},rt={class:"row mt-4 mb-5"},nt={class:"card border-0 mb-4 h-100"},lt=["src","alt","onClick"],at={class:"card-body text-start"},ut={class:"d-flex justify-content-between"},pt={class:"card-text text-muted mb-0 h6"};function _t(s,o,c,r,e,a){const _=w("RouterLink");return u(),p("div",V,[t("nav",E,[t("ol",$,[t("li",q,[h(_,{to:"/products",class:"text-muted"},{default:b(()=>[m("全部商品")]),_:1})]),t("li",L,d(e.product.title),1)])]),t("div",I,[t("div",O,[t("div",U,[t("div",D,[t("div",N,[t("img",{src:e.product.imageUrl,class:"d-block w-100",alt:e.product.title},null,8,S)])])])]),t("div",A,[t("h2",B,d(e.product.title),1),t("p",M,"NT$"+d(e.product.price),1),t("div",j,[t("div",F,[t("button",{class:"btn btn-outline-dark border-0 py-2",type:"button",id:"button-addon1",onClick:o[0]||(o[0]=()=>a.minusOne())},z)]),f(t("input",{type:"text",class:"form-control border-0 text-center my-auto shadow-none bg-light",placeholder:"","aria-label":"Example text with button addon","aria-describedby":"button-addon1","onUpdate:modelValue":o[1]||(o[1]=i=>e.qty=i)},null,512),[[k,e.qty]]),t("div",G,[t("button",{class:"btn btn-outline-dark border-0 py-2",type:"button",id:"button-addon2",onClick:o[2]||(o[2]=()=>a.addOne())},K)])]),t("div",Q,[t("div",W,[t("button",{type:"button",class:"text-nowrap btn btn-dark w-100 py-2",onClick:o[3]||(o[3]=()=>s.addToCart(e.product.id,e.qty))},"加入購物車")]),t("div",X,[h(_,{to:"/cart",class:"text-nowrap btn btn-dark w-100 py-2",onClick:o[4]||(o[4]=()=>s.addToCart(e.product.id,e.qty))},{default:b(()=>[m("立刻購買")]),_:1})])])])]),t("div",Y,[t("div",Z,[t("p",null,d(e.product.description),1),tt]),t("div",st,[ot,t("p",et,d(e.product.content),1)])]),it,dt,t("div",ct,[t("div",rt,[(u(!0),p(x,null,P(e.relativePorduct,i=>(u(),p("div",{class:"col-lg-3 col-md-6",key:i.id},[t("div",nt,[t("img",{src:i.imageUrl,class:"card-img-top rounded-0",alt:i.title,style:{cursor:"pointer"},onClick:T(()=>a.toggleId(i.id),["prevent"])},null,8,lt),t("div",at,[t("h5",null,d(i.title),1),t("div",ut,[t("p",pt," NT$"+d(i.price),1)])])])]))),128))])])])}const mt=v(R,[["render",_t]]);export{mt as default};
