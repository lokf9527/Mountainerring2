import{i as $}from"./banner-383f913b.js";import{_ as P,o as n,d,e as t,i as b,j as _,F as f,k as x,t as h,b as L,a as C,m as E,r as v,n as V,f as p,w as y,g as R,l as N}from"./index-00ec6d4b.js";import{f as k}from"./favoriteStore-d47a853c.js";import"./sweetalert-9b455ef7.js";const T={props:["pages"],methods:{updatePage(a){this.$emit("emitPages",a)}}},U={"aria-label":"Page navigation example"},I={class:"pagination justify-content-center"},S=t("span",{"aria-hidden":"true"},"«",-1),O=[S],j={key:0,class:"page-link"},A=["onClick"],F=t("span",{"aria-hidden":"true"},"»",-1),B=[F];function D(a,e,s,c,l,r){return n(),d("nav",U,[t("ul",I,[t("li",{class:b([{disabled:!s.pages.has_pre},"page-item"])},[t("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=_(i=>r.updatePage(s.pages.current_page-1),["prevent"]))},O)],2),(n(!0),d(f,null,x(s.pages.total_pages,i=>(n(),d("li",{class:b(["page-item",{active:s.pages.current_page===i}]),key:i},[i===s.pages.current_page?(n(),d("span",j,h(i),1)):(n(),d("a",{key:1,class:"page-link",href:"#",onClick:_(m=>r.updatePage(i),["prevent"])},h(i),9,A))],2))),128)),t("li",{class:b(["page-item",{disabled:!s.pages.has_next}])},[t("a",{class:"page-link",href:"#","aria-label":"Next",onClick:e[1]||(e[1]=_(i=>r.updatePage(s.pages.current_page+1),["prevent"]))},B)],2)])])}const M=P(T,[["render",D]]),{VITE_URL:u,VITE_PATH:g}={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"ph",BASE_URL:"/Mountainerring2/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},z=k(),H={data(){return{imageUrl:$,products:[],pagination:{},currentPage:1,isLoading:!1}},methods:{getProducts(a,e=1){let s=`${u}v2/api/${g}/products/`;switch(a){case"初階體驗":case"中階探索":case"高階冒險":s=`${u}/v2/api/${g}/products?category=${a}`;break;default:s=`${u}/v2/api/${g}/products?page=${e}`}this.$http(s).then(c=>{this.products=c.data.products,z.tempProducts(this.products),this.pagination=c.data.pagination,this.isLoading=!1})},updatePage(a=1){let e=`${u}/v2/api/${g}/products?page=${a}`;this.$http(e).then(s=>{this.products=s.data.products,this.pagination=s.data.pagination})},...L(k,["getFollows","toggleFollow"])},components:{RouterLink:C,Pagination:M},computed:{...E(k,["followIds"])},mounted(){this.getProducts(),this.isLoading=!0}},G=N('<div class="container d-flex justify-content-end align-items-center h-75 w-50"><div class="me-4"><h3 class="text-dark" style="font-family:Righteous;">MOUNTAINERRING</h3><h1 class="fw-bold text-dark mb-3">和你一起翻山越嶺</h1><button class="btn btn-dark py-2" type="button">查看行程</button></div></div>',1),q=[G],J={class:"container mt-md-5 mt-3 mb-7"},K={class:"row"},Q={class:"col-md-3"},W={class:"accordion border border-bottom border-top-0 border-start-0 border-end-0 mb-3",id:"accordionExample"},X={class:"card border-0"},Y={class:"card-header px-0 py-4 bg-white border border-bottom-0 border-top border-start-0 border-end-0 rounded-0",id:"headingOne"},Z={class:"d-flex justify-content-between align-items-center pe-1"},tt={id:"collapseOne",class:"collapse show","aria-labelledby":"headingOne",style:{cursor:"pointer"},"data-bs-parent":"#accordionExample"},et={class:"card-body py-0"},st={class:"list-unstyled"},ot={class:"col-md-9"},at={class:"row"},it={class:"card cardProducts border-0 rounded-0 mb-4 position-relative"},nt=["src","alt"],dt={class:"card-body text-start"},rt=["onClick"],lt={key:0,class:"bi bi-heart text-danger h5 position-absolute"},ct={key:1,class:"bi bi-heart-fill text-danger h5 position-absolute"},pt={class:"mt-3 h5"};function ut(a,e,s,c,l,r){const i=v("VueLoading"),m=v("RouterLink"),w=v("Pagination");return n(),d(f,null,[t("header",{class:"products-header",style:V({"background-image":`url(${l.imageUrl})`})},q,4),t("div",J,[p(i,{active:l.isLoading,"onUpdate:active":e[0]||(e[0]=o=>l.isLoading=o)},null,8,["active"]),t("div",K,[t("div",Q,[t("div",W,[t("div",X,[t("div",Y,[t("div",Z,[t("h4",{class:"mb-0 ms-6",style:{cursor:"pointer"},onClick:e[1]||(e[1]=()=>r.getProducts(""))}," 全部商品 ")])]),t("div",tt,[t("div",et,[t("ul",st,[t("li",{class:"py-2 d-block text-muted",onClick:e[2]||(e[2]=()=>r.getProducts("初階體驗"))},"初階體驗"),t("li",{class:"py-2 d-block text-muted",onClick:e[3]||(e[3]=()=>r.getProducts("中階探索"))},"中階探索"),t("li",{class:"py-2 d-block text-muted",onClick:e[4]||(e[4]=()=>r.getProducts("高階冒險"))},"高階冒險")])])])])])]),t("div",ot,[t("div",at,[(n(!0),d(f,null,x(l.products,o=>(n(),d("div",{class:"col-md-4",key:o.id},[t("div",it,[p(m,{to:`/product/${o.id}`},{default:y(()=>[t("img",{src:o.imageUrl,class:"card-img-top rounded-0 object-fit-cover",alt:o.title},null,8,nt)]),_:2},1032,["to"]),t("div",dt,[t("div",{class:"position-absolute",style:{cursor:"pointer",right:"30px",top:"10px"},onClick:_(()=>a.toggleFollow(o.id),["prevent"])},[a.followIds.indexOf(o.id)===-1?(n(),d("i",lt)):(n(),d("i",ct))],8,rt),t("h4",pt,[p(m,{to:`/product/${o.id}`},{default:y(()=>[R(h(o.title),1)]),_:2},1032,["to"])]),t("p",null,"NT$"+h(o.price),1)])])]))),128))]),p(w,{pages:l.pagination,onEmitPages:r.updatePage},null,8,["pages","onEmitPages"])])])])],64)}const bt=P(H,[["render",ut]]);export{bt as default};
